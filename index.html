<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Die Perfekte Farida</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Poppins:wght@400;600;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'rose-clair': '#fec5d9',
                        'rose-fonce': '#f8a1c0',
                        'bleu-ciel': '#c2e4ff',
                        'bleu-clair': '#a8d1e7',
                        'bleu-fonce': '#5da9dd',
                        'beige': '#fff0e6',
                        'marron': '#e6c9b0'
                    },
                    fontFamily: {
                        'montserrat': ['Montserrat', 'sans-serif'],
                        'poppins': ['Poppins', 'sans-serif'],
                        'dancing': ['Dancing Script', 'cursive']
                    },
                    backgroundImage: {
                        'waves': "url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEyODAgMTQwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIj48cGF0aCBmaWxsPSIjYTdkMWU3IiBkPSJNMCwyNi42Yzc4LjYtNTAuOCwyMTMuOS03OS43LDU0NS43LTEzLjJjMzMxLjgsNjYuNSw1NjMuNC0zOS41LDczNC40LDkuNnYxMTcuNEgwVjI2LjZ6IiBvcGFjaXR5PSIwLjMiLz48cGF0aCBmaWxsPSIjYTdkMWU3IiBkPSJNMCw0Ni42Yzc4LjYtNTAuOCwyMTMuOS03OS43LDU0NS43LTEzLjJjMzMxLjgsNjYuNSw1NjMuNC0zOS41LDczNC40LDkuNnY4MC40SDB2LTc3eiIgb3BhY2l0eT0iMC41Ii8+PHBhdGggZmlsbD0iI2IxZWRmZiIgZD0iTTAwLDA2Yzc4LjYtNTAuOCwyMTMuOS03OS43LDU0NS43LTEzLjJjMzMxLjgsNjYuNSw1NjMuNC0zOS41LDczNC40LDkuNlYxNDBIMFYwNnoiLz48L3N2Zz4=')",
                        'heart-pattern': "url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZD0iTTUwIDg1LjI2TDMyLjUgNzUuNjR2LTE4TDQ1IDY1bDEwLTguMDhsOS44NTYgOC41NC0uMDUzLS4wNkw3NSA2MFY1MGgyNUw2NSAzMEw1MCA0MCAzNSA0MCAyNSAyMCAzMCAxMFYwdjI1TDIwIDMwdjIwTDQgNDVWMzcgbTQ2LTQwLjU2TDgyLjQgMzd2MTV6IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZWEwYjQiIHN0cm9rZS13aWR0aD0iMSIvPjxyZWN0IHdpZHRoPSIzNyIgaGVpZ2h0PSIzNyIgeD0iMzEuNSIgeT0iMzEuNSIgZmlsbD0iI2ZmY2Y1MyIgcng9IjUiIHJ5PSI1Ii8+PC9zdmc+')",
                        'sandy': "radial-gradient(circle, #f0d9b5 0%, #e6c9b0 20%, #dcb9ab 40%, #d2a9a6 60%, #c899a1 80%, #be899c 100%)"
                    }
                }
            }
        }
    </script>
    
    <style type="text/css">
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        @keyframes wave {
            0%, 100% { transform: rotate(0); }
            25% { transform: rotate(5deg); }
            50% { transform: rotate(0); }
            75% { transform: rotate(-5deg); }
        }
        
        .float-animate {
            animation: float 4s ease-in-out infinite;
        }
        
        .twinkle-animate {
            animation: twinkle 3s ease-in-out infinite;
        }
        
        .wave-animate {
            animation: wave 5s ease-in-out infinite;
        }
        
        .cat-blink {
            animation: blink 4s ease-in-out infinite;
        }
        
        @keyframes blink {
            0%, 85%, 100% { transform: scaleY(1); }
            90% { transform: scaleY(0.1); }
        }
        
        .slide-enter {
            animation: slideIn 0.8s forwards;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 1s forwards;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .transition-page {
            transition: opacity 1s ease, transform 1.5s ease;
        }
        
        .heart {
            position: absolute;
            font-size: 24px;
            color: rgba(255, 0, 0, 0.3);
            animation: float 6s ease-in-out infinite;
        }
        
        .cat-badge {
            position: absolute;
            width: 45px;
            height: 45px;
            background-color: #ffa8c0;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            font-size: 24px;
            animation: float 4s ease-in-out infinite;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(circle, #c2e4ff, #fff0e6);
            min-height: 100vh;
            overflow-x: hidden;
            color: #5a4a42;
        }
        
        .choice-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 20px rgba(0,0,0,0.15);
        }
    </style>
</head>
<body class="relative overflow-x-hidden bg-gradient-to-b from-bleu-ciel to-beige min-h-screen flex flex-col">

    <!-- Decorative elements -->
    <div id="hearts-container" class="fixed inset-0 pointer-events-none z-0"></div>
    
    <div class="cat-badge" style="top: 15%; left: 5%; animation-delay: 0.2s;">üò∫</div>
    <div class="cat-badge" style="top: 25%; right: 7%; animation-delay: 0.6s;">üê±</div>
    <div class="cat-badge" style="bottom: 10%; left: 8%; animation-delay: 1.0s;">üêæ</div>
    <div class="cat-badge" style="bottom: 20%; right: 5%; animation-delay: 0.4s;">‚ù§Ô∏è</div>
    
    <div id="cats-container" class="fixed inset-0 pointer-events-none z-0"></div>
    
    <!-- Cat mascot with animations -->
    <div id="cat-mascot" class="fixed bottom-0 left-0 z-10 transition duration-500">
        <div class="flex flex-col items-center mb-4 ml-4">
            <div class="text-center">
                <div class="text-4xl float-animate wave-animate">üòª</div>
                <div class="mt-2 bg-white text-rose-fonce text-sm py-1 px-3 rounded-full font-bold shadow-lg">Miaourida</div>
            </div>
        </div>
    </div>
    
    <!-- Music controller -->
    <div class="fixed top-4 right-4 z-50">
        <button id="music-toggle" class="bg-rose-clair text-white p-3 rounded-full shadow-lg hover:bg-rose-fonce transition transform hover:scale-110">
            <i class="fas fa-music text-xl"></i>
        </button>
    </div>
    
    <!-- Background music -->
    <audio id="bg-music" loop>
        <source src="Maher Zain & Harris J - Qalbi Fil Madinah (Vocals Only)  ŸÇŸÑÿ®Ÿä ŸÅŸä ÿßŸÑŸÖÿØŸäŸÜÿ© (ÿ®ÿØŸàŸÜ ŸÖŸàÿ≥ŸäŸÇŸâ).mp3" type="audio/mpeg">
    </audio>
    
    <div id="app" class="container mx-auto px-4 py-8 flex-1 flex flex-col z-10">
        <!-- Introduction -->
        <div id="intro-page" class="transition-page min-h-[80vh] flex flex-col justify-center items-center slide-enter">
            <div class="text-center mb-12 fade-in">
                <h1 class="font-dancing text-5xl md:text-7xl font-bold mb-4 text-rose-fonce">Farida</h1>
                <h2 class="font-montserrat text-3xl md:text-4xl font-bold text-bleu-fonce mb-8">L'Aventure Romantique</h2>
                
                <div class="max-w-2xl mx-auto bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-xl">
                    <p class="text-lg md:text-xl italic text-marron leading-relaxed mb-6">
                        "Farida nadet b39elha, m3a sout ta3 les vagues (wala balak la voix ta3i hiya li nawdatek 'kima raki nodi'). 
                        Lyoum, lzm ykoun l'moral tala3 ni stress ni walou. ghir nti,w ana ? w une aventure m3amra b la7nana (wch rayek f la disquette)."
                    </p>
                    <div class="mt-8">
                        <button id="start-btn" class="bg-bleu-fonce text-white font-bold py-3 px-10 rounded-full text-xl shadow-lg hover:bg-bleu-clair transform transition-all duration-300 hover:scale-105">
                            Commencer l'aventure
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Question pages -->
        <div id="question-pages" class="hidden transition-page min-h-[80vh] flex flex-col justify-center w-full">
            <!-- Question 1 -->
            <div id="q1-page" class="question-page hidden w-full max-w-4xl mx-auto">
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-10">
                    <div class="text-center mb-8">
                        <div class="text-bleu-fonce font-bold mb-1">Question 1</div>
                        <h2 class="text-2xl md:text-3xl font-montserrat font-bold text-rose-fonce mb-2">Kifah raki 7aba nebdaw had la journ√©e, mon c≈ìur ?</h2>
                        <p class="text-marron italic">kheyri le sc√©nario de r√™ve...</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="choice-card bg-rose-clair text-white rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="0">
                            <div class="text-4xl mb-4">üò¥</div>
                            <h3 class="font-bold text-xl mb-2">"Nzid nkemel ner9od chwiya, machba3ch."</h3>
                            <p class="text-sm opacity-90">Nti tero9di. w ana nchouf fik ra9da (bla twaswis, nhbk brk), w 9et British qui ronronne 3nd rassek.</p>
                        </div>
                        
                        <div class="choice-card bg-bleu-ciel text-bleu-fonce rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="1">
                            <div class="text-4xl mb-4">‚òï</div>
                            <h3 class="font-bold text-xl mb-2">"Petit d√©jeuner , l9et fi 7ajrak, w le calme autour."</h3>
                            <p class="text-sm opacity-90">le Petit d√©j wjed. l9et rayeh fel british yetla3 fo9k kichghol y3rfek 9ebli. ihhh 7a9a : wsmo "Miaourida" asem vrai chikour khdali lwa9t bach l9ito.</p>
                        </div>
                        
                        <div class="choice-card bg-bleu-clair text-white rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="2">
                            <div class="text-4xl mb-4">üåä</div>
                            <h3 class="font-bold text-xl mb-2">"Balade fle b7ar, m3a ri7 dayr 7ala w skhana makach."</h3>
                            <p class="text-sm opacity-90">nched yedek, nemcho, nhdaro brk tiri brk f les sujets, w ki yekhlaso les sujets nermilek hadik ta3 "nhbk Farida" .</p>
                        </div>
                        
                        <div class="choice-card bg-beige text-rose-fonce rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="3">
                            <div class="text-4xl mb-4">üèñÔ∏è</div>
                            <h3 class="font-bold text-xl mb-2">"Tebronzi f lab7ar w tchoufi une s√©rie turque."</h3>
                            <p class="text-sm opacity-90">tchoufi la s√©rie, w ana nchouf la meilleure s√©rie ta3i li matekhlasch ga3 (Nti). manes7a9 la netflix la walou hada houwa l'avantage.</p>
                        </div>
                    </div>
                    
                    <div class="flex justify-between mt-8 px-4">
                        <button class="back-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full">‚Üê Retour</button>
                        <div class="flex space-x-2">
                            <div class="w-3 h-3 bg-rose-clair rounded-full"></div>
                            <div class="w-3 h-3 bg-gray-300 rounded-full"></div>
                            <div class="w-3 h-3 bg-gray-300 rounded-full"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Question 2 -->
            <div id="q2-page" class="question-page hidden w-full max-w-4xl mx-auto">
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-10">
                    <div class="text-center mb-8">
                        <div class="text-bleu-fonce font-bold mb-1">Question 2</div>
                        <h2 class="text-2xl md:text-3xl font-montserrat font-bold text-rose-fonce mb-2">Chkoun dif li yjina 3la ghefla hadak nhar ?</h2>
                        <p class="text-marron italic">Chkoun yji l dar bach ykheli la journ√©e khir meli rahi (wala yzid yeg3arha) ?</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="choice-card bg-rose-clair text-white rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="0">
                            <div class="text-4xl mb-4">üê±</div>
                            <h3 class="font-bold text-xl mb-2">"9et bzf mignon, chwiya bzf fenian, raye7 fel Garfield."</h3>
                            <p class="text-sm opacity-90">l9et ja yreya7 direct fel matra7. yechkhor, nti tan m3ah. Ana dert vid√©o day9etli melyar : "Raw ja li ra7 yedi plasti."</p>
                        </div>
                        
                        <div class="choice-card bg-bleu-ciel text-bleu-fonce rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="1">
                            <div class="text-4xl mb-4">üçù</div>
                            <h3 class="font-bold text-xl mb-2">"Chef italien ma3rouf ja yteyeblek les p√¢tes bolo."</h3>
                            <p class="text-sm opacity-90">nti teybi m3ah bach y3almek. wchno ana twaswast chwiya tsema 9otlek arwah lahna et3almi mleb3id, Farida dou9, ghl9et 3iniha kima f les pubs. Ana bayna profitit dertlek sauce tomate fi nifik mais wchno ta7chatli apr√©s psk z3afti 3liya.</p>
                        </div>
                        
                        <div class="choice-card bg-bleu-clair text-white rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="2">
                            <div class="text-4xl mb-4">üíã</div>
                            <h3 class="font-bold text-xl mb-2">"Influenceuse de beaut√© jat l dar bach dirlek tuto ta3 'make-up simple w classe'."</h3>
                            <p class="text-sm opacity-90">Kemletlek khrejti Wow chaba melyar, kima l3ada. L‚Äôinfluenceuse hadik 9alet: "raki thabli bla mandirlek l'filtre." ana ripondit : "dayman tebriyi farida ghir coupiha."</p>
                        </div>
                        
                        <div class="choice-card bg-beige text-rose-fonce rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="3">
                            <div class="text-4xl mb-4">üé•</div>
                            <h3 class="font-bold text-xl mb-2">"Agence de voyage jat teproposina un voyage ghir 7na zouj wchno kyn des conditions."</h3>
                            <p class="text-sm opacity-90">Les destinations 3ndk la Gr√©ce wala La suisse wala Bali wala 3omra wchno la conditons hiya vrai mzlmch nero9do neprofitiw le max m chaque instant.</p>
                        </div>
                    </div>
                    
                    <div class="flex justify-between mt-8 px-4">
                        <button class="back-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full">‚Üê Retour</button>
                        <div class="flex space-x-2">
                            <div class="w-3 h-3 bg-gray-300 rounded-full"></div>
                            <div class="w-3 h-3 bg-rose-clair rounded-full"></div>
                            <div class="w-3 h-3 bg-gray-300 rounded-full"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Question 3 -->
            <div id="q3-page" class="question-page hidden w-full max-w-4xl mx-auto">
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-10">
                    <div class="text-center mb-8">
                        <div class="text-bleu-fonce font-bold mb-1">Question 3</div>
                        <h2 class="text-2xl md:text-3xl font-montserrat font-bold text-rose-fonce mb-2">Chems bdat tecghreb‚Ä¶ wch derna ?</h2>
                        <p class="text-marron italic">La phase lekhra ta3 had la journ√©e parfaite...</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="choice-card bg-rose-clair text-white rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="0">
                            <div class="text-4xl mb-4">üåá</div>
                            <h3 class="font-bold text-xl mb-2">"Balade ana wyak f leb7ar (jit ra7 n9olek plasetna mais khlas 3labali matkheyrihach)."</h3>
                            <p class="text-sm opacity-90">Nchedlek yedek. w n9olek :"3lblk Farida, kol coucher de soleil, ncomparih m3ak‚Ä¶ mais dayman nti li terebhi."</p>
                        </div>
                        
                        <div class="choice-card bg-bleu-ciel text-bleu-fonce rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="1">
                            <div class="text-4xl mb-4">üì∫</div>
                            <h3 class="font-bold text-xl mb-2">"ne9o3do m9ablin la t√©l√© nchouf kach s√©rie turque wala t√©l√© r√©alit√©."</h3>
                            <p class="text-sm opacity-90">ntiya concentr√© ghir m3a la s√©rie, w ana ghir fik. ma7abit walou ghir nti, fer7an brk.</p>
                        </div>
                        
                        <div class="choice-card bg-bleu-clair text-white rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="2">
                            <div class="text-4xl mb-4">üçù</div>
                            <h3 class="font-bold text-xl mb-2">"3cha, t√™te √† t√™te m3a kach chwa, √©videmment."</h3>
                            <p class="text-sm opacity-90">chwa + nti = recette parfaite. tiye7t brochette flerd, bditi ted7ki. riponditlek : "machi ana, l7ob li khelani nensa beli kant fi yedi lmakla."</p>
                        </div>
                        
                        <div class="choice-card bg-beige text-rose-fonce rounded-xl p-6 cursor-pointer transition-all duration-300 flex flex-col items-center text-center" data-choice="3">
                            <div class="text-4xl mb-4">üòª</div>
                            <h3 class="font-bold text-xl mb-2">"tela3bi m3a l9et w na7ko f les souvenirs."</h3>
                            <p class="text-sm opacity-90">L9et yejri mor leplota, ntiya mor les souvenires. Et si le bonheur, c‚Äô√©tait juste √ßa ?</p>
                        </div>
                    </div>
                    
                    <div class="flex justify-between mt-8 px-4">
                        <button class="back-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-full">‚Üê Retour</button>
                        <div class="flex space-x-2">
                            <div class="w-3 h-3 bg-gray-300 rounded-full"></div>
                            <div class="w-3 h-3 bg-gray-300 rounded-full"></div>
                            <div class="w-3 h-3 bg-rose-clair rounded-full"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Ending Page -->
        <div id="ending-page" class="hidden transition-page min-h-[80vh] flex flex-col justify-center w-full max-w-4xl mx-auto">
            <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl p-6 md:p-10 text-center">
                <div class="mb-6">
                    <div class="text-bleu-fonce font-bold text-5xl mb-2">‚ù§Ô∏è</div>
                    <h2 class="text-3xl md:text-4xl font-dancing font-bold text-rose-fonce mb-6">Notre journ√©e r√™v√©e</h2>
                    
                    <div class="text-left mb-10">
                        <div id="story-sequence" class="space-y-6 text-lg text-marron">
                            <!-- Story content will be injected here -->
                        </div>
                    </div>
                    
                    <div id="conclusion" class="italic text-xl text-bleu-fonce mb-10 border-t border-rose-clair pt-6">
                        <p>La journ√©e khlaset, r9edti 3liya. w ana hdert bl39el : "Loukan ne9der had la journ√©e n3wdha kol youm, tant que rani m3ak." L9et ronronne w y9ol 3ndk l7a9.</p>
                    </div>
                    
                    <div class="flex flex-col md:flex-row justify-center gap-4 mt-10">
                        <button id="restart-btn" class="bg-rose-clair text-white font-bold py-3 px-6 rounded-full flex items-center justify-center gap-2 hover:bg-rose-fonce transition">
                            <i class="fas fa-redo"></i> Refaire l'aventure
                        </button>
                        <button id="email-btn" class="bg-bleu-clair text-white font-bold py-3 px-6 rounded-full flex items-center justify-center gap-2 hover:bg-bleu-fonce transition">
                            <i class="fas fa-envelope"></i> Envoyer par mail
                        </button>
                        <button id="save-btn" class="bg-bleu-ciel text-bleu-fonce font-bold py-3 px-6 rounded-full flex items-center justify-center gap-2 hover:bg-bleu-clair transition">
                            <i class="fas fa-save"></i> Sauvegarder
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Wave footer -->
    <div class="h-24 bg-cover bg-center mt-auto" style="background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEyODAgMTQwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIj48cGF0aCBmaWxsPSIjZjhhMWMwIiBkPSJNMCwyNi42Yzc4LjYtNTAuOCwyMTMuOS03OS43LDU0NS43LTEzLjJjMzMxLjgsNjYuNSw1NjMuNC0zOS41LDczNC40LDkuNnYxMTcuNEgwVjI2LjZ6IiBvcGFjaXR5PSIwLjciLz48cGF0aCBmaWxsPSIjZjhhMWMwIiBkPSJNMCw0Ni42Yzc4LjYtNTAuOCwyMTMuOS03OS43LDU0NS43LTEzLjJjMzMxLjgsNjYuNSw1NjMuNC0zOS41LDczNC40LDkuNnY4MC40SDB2LTc3eiIgb3BhY2l0eT0iMC44Ii8+PHBhdGggZmlsbD0iI2Y4YTFjMCIgZD0iTTAwLDA2Yzc4LjYtNTAuOCwyMTMuOS03OS43LDU0NS43LTEzLjJjMzMxLjgsNjYuNSw1NjMuNC0zOS41LDczNC40LDkuNlYxNDBIMFYwNnoiLz48L3N2Zz4=')"></div>
    
    <script>
        // User choices storage
        const answers = { q1: null, q2: null, q3: null };
        const catPoints = { q1: [0,1,0,0], q2: [1,0,0,1], q3: [0,0,0,1] };
        const tvPoints = { q1: [0,0,0,1], q2: [0,0,0,1], q3: [0,1,0,0] };
        let currentPage = 'intro';
        let chosenEnding = 'tendresse';
        
        // DOM elements
        const app = document.getElementById('app');
        const introPage = document.getElementById('intro-page');
        const questionPages = document.getElementById('question-pages');
        const q1Page = document.getElementById('q1-page');
        const q2Page = document.getElementById('q2-page');
        const q3Page = document.getElementById('q3-page');
        const endingPage = document.getElementById('ending-page');
        const storySequence = document.getElementById('story-sequence');
        
        // Music elements
        const musicToggle = document.getElementById('music-toggle');
        const bgMusic = document.getElementById('bg-music');
        
        // Initialize scene with decorative elements
        function initScene() {
            // Create floating hearts
            const heartsContainer = document.getElementById('hearts-container');
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = '‚ù§';
                heart.style.left = `${Math.random() * 100}%`;
                heart.style.top = `${Math.random() * 100}%`;
                heart.style.fontSize = `${Math.random() * 20 + 10}px`;
                heart.style.opacity = Math.random() * 0.6 + 0.2;
                heart.style.animationDuration = `${Math.random() * 4 + 4}s`;
                heartsContainer.appendChild(heart);
            }
        }
        
        // Navigation functions
        function showPage(page) {
            // Hide all pages
            introPage.classList.add('hidden');
            questionPages.classList.add('hidden');
            q1Page.classList.add('hidden');
            q2Page.classList.add('hidden');
            q3Page.classList.add('hidden');
            endingPage.classList.add('hidden');
            
            // Reset animation classes
            const pages = [introPage, questionPages, q1Page, q2Page, q3Page, endingPage];
            pages.forEach(page => page.classList.remove('slide-enter', 'fade-in'));
            
            // Show requested page
            currentPage = page;
            switch(page) {
                case 'intro':
                    introPage.classList.remove('hidden');
                    introPage.classList.add('slide-enter');
                    break;
                case 'q1':
                    questionPages.classList.remove('hidden');
                    q1Page.classList.remove('hidden');
                    q1Page.classList.add('fade-in');
                    break;
                case 'q2':
                    questionPages.classList.remove('hidden');
                    q2Page.classList.remove('hidden');
                    q2Page.classList.add('fade-in');
                    break;
                case 'q3':
                    questionPages.classList.remove('hidden');
                    q3Page.classList.remove('hidden');
                    q3Page.classList.add('fade-in');
                    break;
                case 'ending':
                    generateStory();
                    endingPage.classList.remove('hidden');
                    endingPage.classList.add('fade-in');
                    break;
            }
        }
        
        // Process user choice
        function recordAnswer(question, choice) {
            answers[question] = choice;
            
            // Show next page
            if (question === 'q1') showPage('q2');
            if (question === 'q2') showPage('q3');
            if (question === 'q3') {
                calculateEnding();
                setTimeout(() => showPage('ending'), 500);
            }
        }
        
        // Calculate ending based on choices
        function calculateEnding() {
            let totalCatPoints = 0;
            let totalTVPoints = 0;
            
            // Q1 points
            totalCatPoints += catPoints.q1[answers.q1];
            totalTVPoints += tvPoints.q1[answers.q1];
            
            // Q2 points
            totalCatPoints += catPoints.q2[answers.q2];
            totalTVPoints += tvPoints.q2[answers.q2];
            
            // Q3 points
            totalCatPoints += catPoints.q3[answers.q3];
            totalTVPoints += tvPoints.q3[answers.q3];
            
            // Determine ending
            if (totalCatPoints >= 2) {
                chosenEnding = 'garfield';
                document.getElementById('conclusion').innerHTML = `
                    <p>La journ√©e : 3 siestes, 2 les fous rires, 1 p√¢tes las9a f le plafond, 1 9et adopt√©. Verdict : Farida hiya ma star f l‚Äôamour.</p>
                    <p class="mt-4 text-2xl">üòº l9et & Nous üòº <br> ki tkemli eba3ti le mail la7na (t.boudif09@gmail.com) lta7t w ketbi fih kach 7aja </p>
                `;
                document.querySelector('#conclusion').className = "italic text-xl text-rose-fonce mb-10 border-t border-rose-clair pt-6";
            } else if (totalTVPoints >= 2) {
                chosenEnding = 'serie';
                document.getElementById('conclusion').innerHTML = `
                    <p>Tchoufi f la t√©l√©. s√©rie ta3 drama. w ana 9otlek : "Farida, ida nti jiti √©pisode loukan raki la bande annoce ta3 7yati ."</p>
                    <p class="mt-4 text-2xl">‚ú® disquette m7asalech hadi ‚ú® <br> ki tkemli eba3ti le mail la7na (t.boudif09@gmail.com) lta7t w ketbi fih kach 7aja </p>
                `;
                document.querySelector('#conclusion').className = "italic text-xl text-bleu-fonce mb-10 border-t border-bleu-clair pt-6";
            } else {
                chosenEnding = 'tendresse';
                document.getElementById('conclusion').innerHTML = `
                    <p>La journ√©e khlaset, r9edti 3liya. w ana hdert bl39el : "Loukan ne9der had la journ√©e n3wdha kol youm, tant que rani m3ak." L9et ronronne w y9ol 3ndk l7a9.</p>
                    <p class="mt-4 text-2xl">‚ù§Ô∏è Une Fin "Parfaite" ‚ù§Ô∏è <br> ki tkemli eba3ti le mail la7na (t.boudif09@gmail.com) lta7t w ketbi fih kach 7aja </p>
                `;
                document.querySelector('#conclusion').className = "italic text-xl text-rose-fonce mb-10 border-t border-rose-clair pt-6";
            }
        }
        
        // Generate story sequence
        function generateStory() {
            const scenarios = {
                q1: [
                    "Nzid nkemel ner9od chwiya, machba3ch. Nti tero9di.W ana nchouf fik ra9da (bla twaswis, nhbk brk), w 9et British qui ronronne 3nd rassek.",
                    "Petit d√©jeuner , l9et fi 7ajrak, w le calme autour. le Petit d√©j wjed. l9et rayeh fel british yetla3 fo9k kichghol y3rfek 9ebli. ihhh 7a9a : wsmo Miaourida asem vrai chikour khdali lwa9t bach l9ito.",
                    "Balade fle b7ar, m3a ri7 dayr 7ala w skhana makach. nched yedek, nemcho, nhdaro brk tiri brk f les sujets, w ki yekhlaso les sujets nermilek hadik ta3 nhbk Farida",
                    "Tebronzi f lab7ar w tchoufi une s√©rie turque. Mon binge-watching √† moi, tchoufi la s√©rie, w ana nchouf la meilleure s√©rie ta3i li matekhlasch ga3 (Nti). manes7a9 la netflix la walou hada houwa l'avantage."
                ],
                q2: [
                    "9et bzf mignon, chwiya bzf fenian, raye7 fel Garfield. l9et ja yreya7 direct fel matra7. yechkhor, nti tan m3ah. Ana dert vid√©o day9etli melyar : Raw ja li ra7 yedi plasti.",
                    "Chef italien ma3rouf ja yteyeblek les p√¢tes bolo. nti teybi m3ah bach y3almek. wchno ana twaswast chwiya tsema 9otlek arwah lahna et3almi mleb3id, Farida dou9, ghl9et 3iniha kima f les pubs. Ana bayna profitit dertlek sauce tomate fi nifik mais wchno ta7chatli apr√©s psk z3afti 3liya.",
                    "Influenceuse de beaut√© jat l dar bach dirlek tuto ta3 'make-up simple w classe'. Kemletlek khrejti Wow chaba melyar, kima l3ada. L‚Äôinfluenceuse hadik 9alet: raki thabli bla mandirlek l'filtre. ana ripondit : dayman tebriyi farida ghir coupiha.",
                    "Agence de voyage jat teproposina un voyage ghir 7na zouj wchno kyn des conditions. Les destinations 3ndk la Gr√©ce wala La suisse wala Bali wala 3omra wchno la conditons hiya vrai mzlmch nero9do neprofitiw le max m chaque instant."
                ],
                q3: [
                    "Balade ana wyak f leb7ar (jit ra7 n9olek plasetna mais khlas 3labali matkheyrihach). Nchedlek yedek. w n9olek :3lblk Farida, kol coucher de soleil, ncomparih m3ak‚Ä¶ mais dayman nti li terebhi.",
                    "Ne9o3do m9ablin la t√©l√© nchouf kach s√©rie turque wala t√©l√© r√©alit√©. ntiya concentr√© ghir m3a la s√©rie, w ana ghir fik. ma7abit walou ghir nti, fer7an brk.",
                    "3cha, t√™te √† t√™te m3a kach chwa, √©videmment. chwa + nti = recette parfaite. tiye7t brochette flerd, bditi ted7ki. riponditlek : machi ana, l7ob li khelani nensa beli kant fi yedi lmakla.",
                    "Tela3bi m3a l9et w na7ko f les souvenirs. L9et yejri mor leplota, ntiya mor les souvenires. Et si le bonheur, c‚Äô√©tait juste √ßa ?"
                ]
            };
            
            // Clear previous content
            storySequence.innerHTML = '';
            
            // Add the selected scenarios
            const morningScene = document.createElement('p');
            morningScene.innerHTML = scenarios.q1[answers.q1];
            morningScene.className = "flex items-start border-l-4 border-rose-clair pl-4 py-2";
            storySequence.appendChild(morningScene);
            
            const afternoonScene = document.createElement('p');
            afternoonScene.innerHTML = scenarios.q2[answers.q2];
            afternoonScene.className = "flex items-start border-l-4 border-bleu-clair pl-4 py-2";
            storySequence.appendChild(afternoonScene);
            
            const eveningScene = document.createElement('p');
            eveningScene.innerHTML = scenarios.q3[answers.q3];
            eveningScene.className = "flex items-start border-l-4 border-bleu-fonce pl-4 py-2";
            storySequence.appendChild(eveningScene);
        }
        
        // Save story functionality
        function saveStory() {
            const storyText = document.getElementById('story-sequence').innerText + '\n\n' + 
                             document.getElementById('conclusion').innerText;
            const blob = new Blob([storyText], {type: 'text/plain'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'notre_aventure.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // Email story functionality
        function emailStory() {
            const storyText = document.getElementById('story-sequence').innerText + '\n\n' + 
                             document.getElementById('conclusion').innerText;
            const subject = encodeURIComponent('Notre aventure romantique');
            const body = encodeURIComponent(`Hawlik le r√©sum√© ta3 la journ√©e parfaite :\n\n${storyText}\n\n‚ù§ Farida & Tarek ‚ù§`);
            window.open(`mailto:?subject=${subject}&body=${body}`);
        }
        
        // Reset adventure
        function resetAdventure() {
            answers.q1 = null;
            answers.q2 = null;
            answers.q3 = null;
            showPage('q1');
        }
        
        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize scene
            initScene();
            
            // Show intro page
            showPage('intro');
            
            // Add event listeners
            document.getElementById('start-btn').addEventListener('click', () => showPage('q1'));
            
            // Add choice listeners
            document.querySelectorAll('.choice-card').forEach(card => {
                card.addEventListener('click', function() {
                    const questionId = this.closest('.question-page').id.replace('-page', '');
                    const choice = this.dataset.choice;
                    recordAnswer(questionId, parseInt(choice));
                    
                    // Animate selection
                    this.classList.add('bg-rose-fonce', 'text-white', 'transform', 'scale-105');
                    setTimeout(() => {
                        this.classList.remove('bg-rose-fonce', 'text-white', 'transform', 'scale-105');
                    }, 300);
                });
            });
            
            // Back button listeners
            document.querySelectorAll('.back-btn').forEach(button => {
                button.addEventListener('click', function() {
                    if (currentPage === 'q2') showPage('q1');
                    else if (currentPage === 'q3') showPage('q2');
                });
            });
            
            // Ending buttons
            document.getElementById('restart-btn').addEventListener('click', resetAdventure);
            document.getElementById('save-btn').addEventListener('click', saveStory);
            document.getElementById('email-btn').addEventListener('click', emailStory);
            
            // Music control
            musicToggle.addEventListener('click', function() {
                if (bgMusic.paused) {
                    bgMusic.play();
                    this.innerHTML = '<i class="fas fa-pause"></i>';
                } else {
                    bgMusic.pause();
                    this.innerHTML = '<i class="fas fa-music"></i>';
                }
            });
        });
    </script>
</body>
</html>
